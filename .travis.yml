sudo: required #is required to use docker service in travis

language: shell

env:
  - APP_NAME=fricas
  - DOCKERHUB_ACCOUNT=singularitti
  - VERSION=latest

services:
  - docker

after_success:
  - docker --version  # document the version travis is using
  - docker build --rm -f "Dockerfile" -t $APP_NAME:$TRAVIS_BUILD_ID .
  - docker tag $APP_NAME:$TRAVIS_BUILD_ID $DOCKERHUB_ACCOUNT/$APP_NAME:$VERSION
  # - docker push $DOCKERHUB_ACCOUNT/$APP_NAME:$VERSION
